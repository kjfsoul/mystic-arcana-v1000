(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{283:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,AuthProvider:()=>o});var r=s(5155),a=s(2115),i=s(2643),l=s(6526);let n=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[s,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[m,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{console.log("\uD83D\uDD04 Getting initial session...");try{var e,t;let{data:{session:s},error:r}=await i.N.auth.getSession();r?console.error("❌ Error getting session:",r):console.log("✅ Initial session loaded:",{user:(null==s||null==(e=s.user)?void 0:e.email)||"none",session:s?"present":"missing",accessToken:(null==s?void 0:s.access_token)?"present":"missing"}),d(s),o(null!=(t=null==s?void 0:s.user)?t:null)}catch(e){console.error("❌ Unexpected error getting session:",e)}finally{u(!1)}})();let{data:{subscription:e}}=i.N.auth.onAuthStateChange(async(e,t)=>{var s,r;console.log("\uD83D\uDD04 Auth state change:",{event:e,user:(null==t||null==(s=t.user)?void 0:s.email)||"none",session:t?"present":"missing"}),d(t),o(null!=(r=null==t?void 0:t.user)?r:null),u(!1)});return()=>e.unsubscribe()},[]);let h=async(e,t,s)=>{var r;let a=await i.N.auth.signUp({email:e,password:t,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});if((null==(r=a.data)?void 0:r.user)&&!a.error){if(s&&Object.keys(s).length>0)try{await l.p.createProfile(a.data.user.id,s),console.log("✅ Profile created successfully")}catch(e){console.error("❌ Error creating profile:",e)}a.data.session||console.log("\uD83D\uDCE7 Email confirmation required for:",e)}return a},x=async(e,t)=>await i.N.auth.signInWithPassword({email:e,password:t}),g=async()=>await i.N.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}}),p=async()=>await i.N.auth.signOut();return(0,r.jsx)(n.Provider,{value:{user:s,session:c,loading:m,signUp:h,signIn:x,signInWithGoogle:g,signOut:p,isGuest:!s},children:t})}function c(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},347:()=>{},2548:(e,t,s)=>{"use strict";s.d(t,{Footer:()=>n});var r=s(5155);s(2115);var a=s(6874),i=s.n(a),l=s(6408);let n=()=>(0,r.jsx)("footer",{className:"relative z-10 bg-black/20 backdrop-blur-sm border-t border-white/10 mt-auto",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,r.jsx)("div",{className:"col-span-1 md:col-span-2",children:(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-white mb-3 bg-gradient-to-r from-amber-400 to-purple-400 bg-clip-text text-transparent",children:"Mystic Arcana"}),(0,r.jsx)("p",{className:"text-gray-300 text-sm leading-relaxed mb-4",children:"Your AI-powered gateway to tarot wisdom and astrological insights. Discover the cosmic patterns that guide your journey through the stars."}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)(l.P.div,{className:"text-2xl",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:"\uD83D\uDD2E"}),(0,r.jsx)(l.P.div,{className:"text-2xl",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:2},children:"✨"}),(0,r.jsx)(l.P.div,{className:"text-2xl",animate:{rotate:[0,360]},transition:{duration:8,repeat:1/0,ease:"linear"},children:"\uD83C\uDF19"})]})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Explore"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)(i(),{href:"/",className:"text-gray-300 hover:text-amber-400 transition-colors text-sm",children:"Home"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i(),{href:"/galaxy-view",className:"text-gray-300 hover:text-amber-400 transition-colors text-sm",children:"Galaxy View"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i(),{href:"/astronomical-demo",className:"text-gray-300 hover:text-amber-400 transition-colors text-sm",children:"Astronomical Demo"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Legal"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsxs)(i(),{href:"/legal/privacy",className:"text-gray-300 hover:text-amber-400 transition-colors text-sm flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDD12"}),"Privacy Policy"]})}),(0,r.jsx)("li",{children:(0,r.jsxs)(i(),{href:"/legal/terms",className:"text-gray-300 hover:text-purple-400 transition-colors text-sm flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDCDC"}),"Terms of Service"]})}),(0,r.jsx)("li",{children:(0,r.jsxs)(i(),{href:"/legal/cookies",className:"text-gray-300 hover:text-cyan-400 transition-colors text-sm flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83C\uDF6A"}),"Cookie Policy"]})}),(0,r.jsx)("li",{children:(0,r.jsxs)(i(),{href:"/legal/disclaimer",className:"text-gray-300 hover:text-rose-400 transition-colors text-sm flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"⚠️"}),"Disclaimer"]})})]})]})]}),(0,r.jsxs)("div",{className:"border-t border-white/10 mt-8 pt-6 flex flex-col md:flex-row justify-between items-center",children:[(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"\xa9 2025 Mystic Arcana, LLC. All rights reserved."}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Made with"}),(0,r.jsx)(l.P.span,{className:"text-red-400",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,repeatDelay:2},children:"❤️"}),(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"and cosmic energy"})]})]})]})})},2643:(e,t,s)=>{"use strict";let r;s.d(t,{N:()=>i});var a=s(1916);let i=function(){if(r)return r;let e="https://pqfsbxcbsxuyfgqrxdob.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBxZnNieGNic3h1eWZncXJ4ZG9iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5NDk4MDAsImV4cCI6MjA2MzUyNTgwMH0.RH_VQLoTOdAauUciYWC39Wto1ZmK28gWjQ9eWJ0FEGU";if(!e||!t)throw Error("Missing Supabase environment variables. Please check NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in your .env.local file.");return r=(0,a.createBrowserClient)(e,t)}()},4147:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_5cfdac",variable:"__variable_5cfdac"}},6526:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});var r=s(2643);let a={async createProfile(e,t){let{data:s,error:a}=await r.N.from("user_profiles").insert([{user_id:e,...t}]).select().single();if(a)throw console.error("Error creating profile:",a),a;return s},async updateProfile(e,t){let{data:s,error:a}=await r.N.from("user_profiles").update(t).eq("user_id",e);if(a)throw console.error("Error updating profile:",a),a;return s},async getProfile(e){try{let{data:t,error:s}=await r.N.from("user_profiles").select("*").eq("user_id",e).maybeSingle();if(s)throw console.error("Error fetching profile:",s),s;if(!t)return console.log("Creating profile for user ".concat(e)),await this.createProfile(e,{});return t}catch(e){throw console.error("Profile service error:",e),e}}}},7189:(e,t,s)=>{"use strict";s.d(t,{TarotSessionProvider:()=>o});var r=s(5155),a=s(2115);let i=(0,a.createContext)(void 0),l="tarot_journal_entries",n="tarot_session_readings",o=e=>{let{children:t}=e,[s,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(l);if(e){let t=JSON.parse(e);d(t.map(e=>({...e,timestamp:new Date(e.timestamp)})))}let t=sessionStorage.getItem(n);if(t){let e=JSON.parse(t);o(e.map(e=>({...e,timestamp:new Date(e.timestamp)})))}}catch(e){console.error("Failed to load session data:",e)}},[]),(0,a.useEffect)(()=>{try{localStorage.setItem(l,JSON.stringify(c))}catch(e){console.error("Failed to save journal entries:",e)}},[c]),(0,a.useEffect)(()=>{try{sessionStorage.setItem(n,JSON.stringify(s))}catch(e){console.error("Failed to save session readings:",e)}},[s]);let m=(0,a.useCallback)(e=>{let t="session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),s={...e,id:t,timestamp:new Date,isSaved:!1};return o(e=>[...e,s]),t},[]),u=(0,a.useCallback)((e,t)=>{o(s=>s.map(s=>s.id===e?{...s,...t}:s))},[]),h=(0,a.useCallback)(e=>{u(e,{isSaved:!0})},[u]),x=(0,a.useCallback)(e=>{o(t=>t.filter(t=>t.id!==e))},[]),g=(0,a.useCallback)(e=>s.find(t=>t.id===e),[s]),p=(0,a.useCallback)(e=>{let t="journal_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),s={...e,id:t,timestamp:new Date};return d(e=>[...e,s]),t},[]),f=(0,a.useCallback)((e,t)=>{d(s=>s.map(s=>s.id===e?{...s,...t}:s))},[]),v=(0,a.useCallback)(e=>{d(t=>t.filter(t=>t.id!==e))},[]),y=(0,a.useCallback)(e=>c.filter(t=>t.readingId===e),[c]),b={totalReadings:s.length,savedReadings:s.filter(e=>e.isSaved).length,unsavedReadings:s.filter(e=>!e.isSaved).length,journalEntries:c.length,mostUsedSpread:s.length>0?(()=>{var e;return(null==(e=Object.entries(s.reduce((e,t)=>(e[t.spreadType]=(e[t.spreadType]||0)+1,e),{})).sort((e,t)=>{let[,s]=e,[,r]=t;return r-s})[0])?void 0:e[0])||"none"})():"none"},N=(0,a.useCallback)(()=>{o([]),d([]),sessionStorage.removeItem(n),localStorage.removeItem(l)},[]);return(0,r.jsx)(i.Provider,{value:{sessionReadings:s,addSessionReading:m,updateSessionReading:u,markReadingAsSaved:h,removeSessionReading:x,getSessionReading:g,journalEntries:c,addJournalEntry:p,updateJournalEntry:f,removeJournalEntry:v,getJournalEntriesForReading:y,sessionStats:b,clearSession:N},children:t})}},7739:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4147,23)),Promise.resolve().then(s.t.bind(s,8489,23)),Promise.resolve().then(s.t.bind(s,347,23)),Promise.resolve().then(s.bind(s,2548)),Promise.resolve().then(s.bind(s,283)),Promise.resolve().then(s.bind(s,7189))},8489:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}}},e=>{var t=t=>e(e.s=t);e.O(0,[4481,7690,6408,9535,6874,8441,1684,7358],()=>t(7739)),_N_E=e.O()}]);