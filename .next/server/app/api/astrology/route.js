(()=>{var e={};e.id=9480,e.ids=[9480],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},79646:e=>{"use strict";e.exports=require("child_process")},82218:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>h,routeModule:()=>y,serverHooks:()=>v,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>x});var s={};t.r(s),t.d(s,{POST:()=>d});var o=t(96559),a=t(48088),n=t(37719),i=t(32190),p=t(79646),c=t(33873),u=t.n(c);let l=u().join(process.cwd(),"src/services/astrology-python");async function d(e){try{var r,t;let{action:s,data:o}=await e.json(),a="",n=[];switch(s){case"calculate-birth-chart":a="simple_astrology.py",n=["birth-chart",JSON.stringify(o)];break;case"calculate-synastry":a="simple_astrology.py",n=["synastry",JSON.stringify(o)];break;case"get-current-transits":a="simple_astrology.py",n=["transits"];break;case"geocode-location":a="simple_astrology.py",n=["geocode",JSON.stringify(o)];break;default:return i.NextResponse.json({error:"Invalid action"},{status:400})}let c=await (r=a,t=n,new Promise((e,s)=>{let o=process.env.PYTHON_PATH||u().join(process.cwd(),"venv-astrology/bin/python"),a=u().join(l,r),n=(0,p.spawn)(o,[a,...t]),i="",c="";n.stdout.on("data",e=>{i+=e.toString()}),n.stderr.on("data",e=>{c+=e.toString()}),n.on("close",r=>{if(0!==r)s(Error(`Python script failed: ${c}`));else try{let r=JSON.parse(i);e(r)}catch{s(Error(`Invalid JSON response: ${i}`))}}),n.on("error",e=>{s(e)})}));return i.NextResponse.json(c)}catch(e){return console.error("Astrology API error:",e),i.NextResponse.json({error:e instanceof Error?e.message:"Internal server error"},{status:500})}}let y=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/astrology/route",pathname:"/api/astrology",filename:"route",bundlePath:"app/api/astrology/route"},resolvedPagePath:"/Users/kfitz/mystic-arcana-v1000/src/app/api/astrology/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:g,workUnitAsyncStorage:x,serverHooks:v}=y;function h(){return(0,n.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:x})}},96487:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4447,580],()=>t(82218));module.exports=s})();